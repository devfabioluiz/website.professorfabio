<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aula 2 - Programa√ß√£o s√≠ncrona e ass√≠ncrona</title>
    <link rel="stylesheet" href="../../estilos/estilos-aulas.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    />
  </head>
  <body>
    <header>
      <h1>Aula 2</h1>
      <h4 class="text-center">JavaScript Avan√ßado</h4>
      <h4 class="text-center">Callback e Programa√ß√£o s√≠ncrona e ass√≠ncrona</h4>
    </header>
    <main class="container">
      <!-- Fun√ß√£o normal e callback -->
      <h2>Fun√ß√£o normal e callback</h2>
      <section>
        <p>
          Uma <strong>fun√ß√£o normal</strong> apenas executa uma tarefa e retorna o resultado.
          J√° uma <strong>fun√ß√£o de callback</strong> √© passada como argumento para outra fun√ß√£o
          e √© chamada quando a tarefa terminar.
        </p>

        <h5>Exemplo 1 (fun√ß√£o normal)</h5>
        <div class="code-container">
          <pre><code class="language-javascript">
function soma(a, b) {
  return a + b;
}
console.log(soma(5, 3));
</code></pre>
          <button class="btn-copy">Copiar C√≥digo</button>
        </div>

        <h5>Exemplo 2 (callback simples)</h5>
        <div class="code-container">
          <pre><code class="language-javascript">
function cumprimentar(nome, callback) {
  console.log("Ol√°, " + nome);
  callback();
}

cumprimentar("Maria", () => {
  console.log("Callback executado!");
});
</code></pre>
          <button class="btn-copy">Copiar C√≥digo</button>
        </div>

        <h5>Exemplo 3 (simulando servidor com callback)</h5>
        <div class="code-container">
          <pre><code class="language-javascript">
function buscarDados(callback) {
  setTimeout(() => {
    callback("üì¶ Dados carregados!");
  }, 2000);
}

buscarDados((resultado) => {
  console.log(resultado);
});
</code></pre>
          <button class="btn-copy">Copiar C√≥digo</button>
        </div>
      </section>

      <!-- Programa√ß√£o s√≠ncrona e ass√≠ncrona -->
      <h2>Programa√ß√£o s√≠ncrona e ass√≠ncrona</h2>
      <section>
        <p>
          Na <strong>programa√ß√£o s√≠ncrona</strong>, as instru√ß√µes s√£o executadas uma ap√≥s a outra.
          Se uma linha demora muito (como acessar um servidor), o programa inteiro fica "travado".
        </p>
        <p>
          Na <strong>programa√ß√£o ass√≠ncrona</strong>, o JavaScript n√£o espera a tarefa lenta terminar.
          Ele continua executando o resto do c√≥digo e, quando a tarefa acaba, chama uma fun√ß√£o de retorno.
        </p>

        <h5>Exemplo 1 (s√≠ncrono)</h5>
        <div class="code-container">
          <pre><code class="language-javascript">
console.log("In√≠cio");
for (let i = 0; i < 3; i++) {
  console.log("Processando", i);
}
console.log("Fim");
</code></pre>
          <button class="btn-copy">Copiar C√≥digo</button>
        </div>

        <h5>Exemplo 2 (ass√≠ncrono com setTimeout)</h5>
        <div class="code-container">
          <pre><code class="language-javascript">
console.log("In√≠cio");
setTimeout(() => {
  console.log("Processo demorado terminou!");
}, 2000);
console.log("Fim");
</code></pre>
          <button class="btn-copy">Copiar C√≥digo</button>
        </div>

        <h5>Exemplo 3 (requisi√ß√£o simulada)</h5>
        <div class="code-container">
          <pre><code class="language-javascript">
console.log("Buscando dados...");

setTimeout(() => {
  console.log("‚úÖ Dados recebidos do servidor!");
}, 3000);

console.log("Voc√™ pode continuar usando o app...");
</code></pre>
          <button class="btn-copy">Copiar C√≥digo</button>
        </div>
      </section>

           <!-- Async/Await -->
           <h2>Async/Await</h2>
           <section>
             <p>
               <code>async</code> e <code>await</code> s√£o formas mais simples de lidar com Promises.
               O <b>async</b> transforma a fun√ß√£o em ass√≠ncrona, retornando uma Promise.
               O <b>await</b> faz o c√≥digo "esperar" pela resposta da Promise.
             </p>
     
             <h5>Exemplo 1 (async cria promise automaticamente)</h5>
             <div class="code-container">
               <pre><code class="language-javascript">
     async function exemplo() {
       return "üöÄ Retornado dentro de uma async!";
     }
     exemplo().then(console.log);
     </code></pre>
               <button class="btn-copy">Copiar C√≥digo</button>
             </div>
     
             <h5>Exemplo 2 (usando await)</h5>
             <div class="code-container">
               <pre><code class="language-javascript">
     function esperar(ms) {
       return new Promise(resolve => setTimeout(resolve, ms));
     }
     
     async function executar() {
       console.log("In√≠cio");
       await esperar(2000);
       console.log("Fim ap√≥s 2 segundos");
     }
     executar();
     </code></pre>
               <button class="btn-copy">Copiar C√≥digo</button>
             </div>
     
             <h5>Exemplo 3 (tratamento de erros com try/catch)</h5>
             <div class="code-container">
               <pre><code class="language-javascript">
     async function buscarDados() {
       try {
         throw new Error("Falha na conex√£o!");
       } catch (erro) {
         console.log("‚ö†Ô∏è Erro capturado:", erro.message);
       }
     }
     buscarDados();
     </code></pre>
               <button class="btn-copy">Copiar C√≥digo</button>
             </div>
           </section>
    </main>
    </body>
    </html>